# دليل التخزين السحابي - نظام إدارة مصروفات السيارات

## 🌐 نظرة عامة

تم إضافة دعم التخزين السحابي للنظام لحل مشاكل التخزين المحلي وتوفير:
- **نسخ احتياطية آمنة** في السحابة
- **مزامنة البيانات** عبر أجهزة متعددة
- **مساحة تخزين أكبر** من localStorage
- **حماية من فقدان البيانات**

---

## 🔧 الخيارات المتاحة

### 1. **Google Drive** (مُفعل حالياً)
- **المساحة**: 15 جيجابايت مجاناً
- **الأمان**: تشفير Google المتقدم
- **السهولة**: واجهة مألوفة للمستخدمين
- **التكلفة**: مجاني للاستخدام الأساسي

### 2. **Dropbox** (قيد التطوير)
- **المساحة**: 2 جيجابايت مجاناً
- **المزايا**: سرعة عالية في المزامنة
- **التكامل**: سهل مع التطبيقات

### 3. **OneDrive** (قيد التطوير)
- **المساحة**: 5 جيجابايت مجاناً
- **التكامل**: مع منتجات Microsoft
- **المزايا**: دعم ممتاز للمؤسسات

### 4. **Firebase** (للمطورين)
- **قاعدة بيانات**: NoSQL سحابية
- **الوقت الفعلي**: تحديثات فورية
- **الأمان**: قواعد أمان متقدمة

---

## 🚀 إعداد Google Drive

### الخطوة 1: إنشاء مشروع Google Cloud

1. **اذهب إلى** [Google Cloud Console](https://console.cloud.google.com/)
2. **أنشئ مشروع جديد** أو اختر مشروع موجود
3. **اكتب اسم المشروع**: مثل "Car Expense Manager"
4. **انقر "إنشاء"**

### الخطوة 2: تفعيل Google Drive API

1. **في لوحة التحكم** اذهب إلى "APIs & Services"
2. **انقر "Enable APIs and Services"**
3. **ابحث عن** "Google Drive API"
4. **انقر "Enable"**

### الخطوة 3: إنشاء بيانات الاعتماد

#### إنشاء OAuth 2.0 Client ID:
1. **اذهب إلى** "Credentials" في القائمة الجانبية
2. **انقر "Create Credentials"** → "OAuth 2.0 Client ID"
3. **اختر نوع التطبيق**: "Web application"
4. **أضف Authorized origins**:
   ```
   http://localhost
   file://
   ```
5. **انسخ Client ID** المُنشأ

#### إنشاء API Key:
1. **انقر "Create Credentials"** → "API Key"
2. **انسخ API Key** المُنشأ
3. **اختياري**: قيد المفتاح لـ Google Drive API فقط

### الخطوة 4: إعداد النظام

1. **افتح النظام** وسجل الدخول
2. **انقر على أيقونة الإعدادات المتقدمة** (⚙️⚙️)
3. **انقر "إعدادات Google Drive"**
4. **أدخل Client ID** و **API Key**
5. **انقر "حفظ"**

---

## 📱 كيفية الاستخدام

### رفع نسخة احتياطية:

1. **اذهب إلى الإعدادات المتقدمة**
2. **انقر "رفع نسخة احتياطية إلى Google Drive"**
3. **سجل الدخول** إلى حساب Google (أول مرة فقط)
4. **امنح الأذونات** للتطبيق
5. **انتظر** حتى اكتمال الرفع

### استعادة نسخة احتياطية:

1. **انقر "استعادة من Google Drive"**
2. **اختر النسخة** من القائمة المعروضة
3. **انقر "استعادة"**
4. **أكد العملية** (سيتم استبدال البيانات الحالية)
5. **انتظر** إعادة تحميل النظام

---

## 🔒 الأمان والخصوصية

### حماية البيانات:
- **تشفير Google**: جميع البيانات مشفرة في السحابة
- **مجلد خاص**: البيانات محفوظة في مجلد خاص بالتطبيق
- **أذونات محدودة**: التطبيق يصل فقط لملفاته

### الخصوصية:
- **لا مشاركة**: البيانات خاصة بحسابك فقط
- **لا تتبع**: لا يتم تتبع استخدامك
- **تحكم كامل**: يمكنك حذف البيانات في أي وقت

### إلغاء الوصول:
1. **اذهب إلى** [Google Account Security](https://myaccount.google.com/security)
2. **انقر "Third-party apps with account access"**
3. **ابحث عن التطبيق** واحذف الوصول

---

## ⚡ المزايا والعيوب

### ✅ المزايا:

#### التخزين السحابي:
- **مساحة أكبر**: 15 جيجابايت مقابل 5-10 ميجا محلياً
- **أمان عالي**: حماية من فقدان البيانات
- **وصول من أي مكان**: البيانات متاحة من أي جهاز
- **نسخ تلقائية**: إمكانية الجدولة التلقائية

#### المزامنة:
- **تحديثات فورية**: البيانات محدثة دائماً
- **عمل جماعي**: إمكانية المشاركة مع الفريق
- **تاريخ النسخ**: الاحتفاظ بنسخ متعددة

### ❌ العيوب:

#### التبعية:
- **يحتاج إنترنت**: لا يعمل بدون اتصال
- **تبعية خارجية**: يعتمد على خدمة Google
- **إعداد معقد**: يحتاج إعداد أولي

#### الخصوصية:
- **بيانات خارجية**: البيانات خارج جهازك
- **سياسات Google**: خاضعة لسياسات Google
- **مراقبة محتملة**: إمكانية المراقبة الحكومية

---

## 🛠️ استكشاف الأخطاء

### مشاكل شائعة:

#### "فشل في تهيئة Google Drive":
1. **تحقق من Client ID و API Key**
2. **تأكد من تفعيل Google Drive API**
3. **جرب مفاتيح جديدة**
4. **تحقق من اتصال الإنترنت**

#### "فشل في تسجيل الدخول":
1. **امسح ذاكرة المتصفح**
2. **جرب متصفح آخر**
3. **تحقق من إعدادات النوافذ المنبثقة**
4. **تأكد من صحة بيانات الاعتماد**

#### "لا توجد نسخ احتياطية":
1. **تأكد من رفع نسخة أولاً**
2. **تحقق من مجلد appDataFolder**
3. **جرب إعادة تسجيل الدخول**
4. **تحقق من أذونات التطبيق**

### حلول متقدمة:

#### مسح البيانات المحفوظة:
```javascript
// في وحدة تحكم المتصفح (F12)
localStorage.removeItem('googleDriveClientId');
localStorage.removeItem('googleDriveApiKey');
```

#### إعادة تعيين الأذونات:
1. **اذهب إلى Google Account**
2. **احذف أذونات التطبيق**
3. **أعد تسجيل الدخول**

---

## 🔮 التطوير المستقبلي

### ميزات قادمة:

#### المزامنة التلقائية:
- **حفظ تلقائي** كل 5 دقائق
- **مزامنة في الخلفية**
- **تنبيهات التحديث**

#### دعم خدمات أخرى:
- **Dropbox API** - قيد التطوير
- **OneDrive API** - مخطط له
- **iCloud** - للمستقبل

#### ميزات متقدمة:
- **مشاركة البيانات** مع فرق العمل
- **تحكم في الأذونات** لكل مستخدم
- **سجل التغييرات** المفصل
- **استعادة نقطة زمنية** محددة

### تحسينات الأداء:
- **ضغط البيانات** قبل الرفع
- **رفع تدريجي** للملفات الكبيرة
- **ذاكرة تخزين مؤقت** ذكية

---

## 📞 الدعم الفني

### للمساعدة في إعداد التخزين السحابي:

1. **اتبع الخطوات** بدقة
2. **احتفظ بنسخة** من المفاتيح
3. **اختبر النظام** بنسخة تجريبية
4. **تواصل مع المطور** عند الحاجة

### معلومات مطلوبة للدعم:
- **رسائل الخطأ** الكاملة
- **خطوات إعادة الإنتاج**
- **نوع المتصفح** والإصدار
- **حالة الاتصال** بالإنترنت

---

**مطور النظام: محمد مبروك عطية**  
**Developer: Mohamed Mabrouk Attia**  
**نظام إدارة مصروفات السيارات - RASHID INDUSTRIAL CO.**
